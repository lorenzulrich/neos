{namespace m=TYPO3\Media\ViewHelpers}
{namespace neos=TYPO3\Neos\ViewHelpers}
<f:layout name="EditImage"/>

<f:section name="Title">RelatedDocumentNodes view of AssetController</f:section>

<f:section name="Content">
      <legend>{asset.resource.filename}</legend>

      <table class="neos-info-table">
        <thead>
          <tr>
            <th>{neos:backend.translate(id: 'media.relatedDocumentNodes.document', source: 'Modules', package: 'TYPO3.Neos')}</th>
            <th>{neos:backend.translate(id: 'media.relatedDocumentNodes.reference', source: 'Modules', package: 'TYPO3.Neos')}</th>
            <th class="neos-aRight">{neos:backend.translate(id: 'media.field.lastModified', source: 'Modules', package: 'TYPO3.Neos')}</th>
          </tr>
        </thead>
        <tbody>
          <f:for each="{relatedDocumentNodes}" as="relatedDocumentNode">
            <tr>
              <td><neos:link.node node="{relatedDocumentNode.documentNode}" /></td>
              <td>
                <ul>
                  <f:for each="{relatedDocumentNode.node}" as="node">
                    <li>
                      <f:if condition="{node.label}">
                        <f:then>
                          {node.label} ({node.nodeType.name})
                        </f:then>
                        <f:else>
                          {node.nodeType.name}
                        </f:else>
                      </f:if>
                    </li>
                  </f:for>
                </ul>
              </td>
              <td class="neos-aRight">{relatedDocumentNode.documentNode.nodeData.lastModificationDateTime -> f:format.date(format: 'Y-m-d H:i')}</td>
            </tr>
          </f:for>
        </tbody>
      </table>

  <div class="neos-footer">
    <f:link.action action="edit" arguments="{asset:asset}" class="neos-button">{neos:backend.translate(id: 'back', source: 'Modules', package: 'TYPO3.Neos')}</f:link.action>
  </div>
</f:section>
